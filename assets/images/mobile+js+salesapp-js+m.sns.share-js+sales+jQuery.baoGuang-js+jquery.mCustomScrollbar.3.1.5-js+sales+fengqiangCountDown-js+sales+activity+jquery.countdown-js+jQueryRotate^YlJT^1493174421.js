var SalesApp={root:"https://m.mafengwo.cn",isApp:function(d){if(!("_isApp" in SalesApp.isApp)){if(navigator.userAgent.indexOf("com.mafengwo.mfwios")>=0||navigator.userAgent.indexOf("com.mafengwo.MFWIOS")>=0){SalesApp.isApp._isApp="ios"}else{if(navigator.userAgent.indexOf("com.mfw.mfwapp")>=0){SalesApp.isApp._isApp="android"}else{if(navigator.userAgent.indexOf("cn.mafengwo.www")>=0||navigator.userAgent.indexOf("cn.mafengwo.tgminhouse")>=0){SalesApp.isApp._isApp="guide_ios"}else{if(navigator.userAgent.indexOf("com.mfw.roadbook")>=0){SalesApp.isApp._isApp="guide_android"}else{SalesApp.isApp._isApp=false}}}}}if(arguments.length){var b=[],c;if((typeof d)==="string"){if(d){d=[d]}}if(d instanceof Array){for(c=0;c<d.length;c++){var a=d[c];if(a=="shop"){b.push("ios","android")}else{if(a=="guide"){b.push("guide_ios","guide_android")}else{b.push(d)}}}}if(b.length){for(c=0;c<b.length;c++){if(b[c]==SalesApp.isApp._isApp){return true}}}return false}return SalesApp.isApp._isApp},appVersion:function(){var b=SalesApp.appVersion;if(!("_v" in b)){b._v=0;var a,c;switch(SalesApp.isApp()){case"ios":case"guide_ios":case"guide_android":a=/mfwappver\/([\d\.]+)/.exec(navigator.userAgent);c=a.length;if(c){a=a[1].split(".");c=a.length;b._v=a[0]*10000;if(c>1){b._v+=a[1]*100}if(c>2){b._v+=parseInt(a[2],10)}}break;case"android":a=/mfwappver\/(\d+)/.exec(navigator.userAgent);c=a.length;if(a&&c){a=a[1];c=a.length;if(a[0]>=3){b._v=a[0]*10000;if(c>1){b._v+=a[1]*100}if(c>2){b._v+=parseInt(a[2],10)}}}break;default:break}}return b._v},check:function(d,b){var e={};if(arguments.length>0){if(arguments.length>1){if(typeof d=="string"){e[d]={version:arguments[1]};b=false}}else{e=d;b=false}for(var f in e){if(e.hasOwnProperty(f)){var c=e[f];if(SalesApp.isApp(f)){var a=0;if(typeof c==="number"){a=c}else{if(typeof c==="string"){a=c|0}else{if(typeof c==="object"){a=c.version|0}}}if(a==0||SalesApp.appVersion()>=a){if("value" in c){if(typeof c.value=="function"){return c.value()}else{return c.value}}else{return true}}}}}return b}else{return !!SalesApp.isApp()}},isWechat:function(){return navigator.userAgent.indexOf("MicroMessenger")>=0},isQq:function(){return/QQ[^B]/.test(navigator.userAgent)},isIos:function(){return/iPhone\sOS/.test(navigator.userAgent)},isAndroid:function(){return/Android/i.test(navigator.userAgent)},_goto:function(e,d){var c=SalesApp["url"+e].apply(this,d);if(c){var b=document.createElement("A");b.href=c;document.body.appendChild(b);b.click();document.body.removeChild(b)}},gotoLogin:function(){SalesApp._goto("Login",arguments)},gotoSales:function(a){SalesApp._goto("Sales",arguments)},gotoOrder:function(a){SalesApp._goto("Order",arguments)},gotoOrderDetail:function(a){SalesApp._goto("OrderDetail",arguments)},gotoFav:function(){SalesApp._goto("Fav",arguments)},gotoNotify:function(a){SalesApp._goto("Notify",arguments)},gotoCoupon:function(a){SalesApp._goto("Coupon",arguments)},urlLoginForAndroid:function(a){if(SalesApp.isApp()=="android"&&SalesApp.appVersion()>=30400){return"mfwapp://page/login"}else{if(SalesApp.isApp()=="guide_android"){return"travelguide://page/login"}}return"https://passport.mafengwo.cn/?return_url="+encodeURIComponent(a||location.href)},urlLogin:function(a){return SalesApp.check({shop:{version:30400,value:"mfwapp://page/login"},guide:{value:"travelguide://page/login"}},"https://passport.mafengwo.cn/?return_url="+encodeURIComponent(a||location.href))},urlSales:function(a){return SalesApp.root+"/sales/"+a+".html"},urlOrder:function(c){var b={payed:2,unpay:1};var d=SalesApp.isApp();var a=SalesApp.appVersion();if((d=="guide_ios"&&a>70101)||(d=="guide_android"&&a>60101)){return"http://m.mafengwo.cn/nb/public/sharejump.php?type=31"}else{if((d=="ios"||d=="android")&&a>=30400){return"mfwapp://page/order"+(c?("/"+c):"")}else{return SalesApp.root+"/sales/order.php"+(c?("?flag="+b[c]):"")}}},urlOrderDetail:function(a){if(SalesApp.isApp()=="ios"&&SalesApp.appVersion()>=30400||SalesApp.isApp()=="android"){return"mfwapp://page/order/detail/id="+a}else{if(SalesApp.isApp()=="guide_ios"&&SalesApp.appVersion()<=70403){return"http://m.mafengwo.cn/nb/public/sharejump.php?type=1008&tradeid="+a}else{if(SalesApp.isApp()=="guide_ios"&&SalesApp.appVersion()>=70000||SalesApp.isApp()=="guide_android"&&SalesApp.appVersion()>=60000){return"https://m.mafengwo.cn/nb/public/sharejump.php?type=1008&tradeid="+a}else{return SalesApp.root+"/sales/order.php?detail="+a}}}},urlOrderPay:function(a){if(SalesApp.check("ios",30400)||SalesApp.check("android",40000)){return"mfwapp://page/product/pay?id="+a}else{if(SalesApp.isApp()=="guide_ios"&&SalesApp.appVersion()<=70403){return"http://m.mafengwo.cn/nb/public/sharejump.php?type=1004&tradeid="+a}else{if(SalesApp.check("guide_ios",70000)||SalesApp.check("guide_android",60000)){return"https://m.mafengwo.cn/nb/public/sharejump.php?type=1004&tradeid="+a}}}},urlFav:function(){if(SalesApp.isApp()&&SalesApp.appVersion()>=30400){return"mfwapp://page/fav/"}else{return""}},urlNotify:function(a){var b={sys:"","private":"private",article:"article"};if(SalesApp.isApp()&&SalesApp.appVersion()>=30400){return"mfwapp://page/mynotify"+(a?("/"+a):"")}else{return SalesApp.root+"/user/msg.php"+(a?("?type="+b[a]):"")}},urlCoupon:function(a){return SalesApp.check({shop:{version:30304,value:"mfwapp://page/coupon"+(a?("/"+a):"")},guide:{value:"http://m.mafengwo.cn/nb/public/sharejump.php?type=34"}},SalesApp.root+"/sales/coupon.php")},share:function(e,d,b,a){if(!e){return}if(!d){d=e}if(!a){a=location.href}var c;if(SalesApp.isApp()&&SalesApp.appVersion()>=30304){c="mfwapp://share?url="+encodeURIComponent(a)}else{c="http://www.mafengwo.cn/connect_share.php?title="+encodeURIComponent(e);c+="&content="+encodeURIComponent(d);if(b){c+="&pic="+encodeURIComponent(b)}c+="&url="+encodeURIComponent(a)+"&key=wb"}location.href=c},onShare:function(a){document.addEventListener("mfwshare",function(b){a.call(this,b,b.mfwShareChannel)},false)},wechatMask:function(e,d,c,f){if(SalesApp.isWechat()||f){e=e||"fav";d="_wxmsk_"+(d||e);if(!localStorage[d]||c){var b=document.getElementsByClassName("wx-mask")[0],a;if(!b){b=document.createElement("div");a=document.createElement("span");a.className="know";b.appendChild(a);document.body.appendChild(b)}else{a=b.getElementsByClassName("know")[0]}b.className="wx-mask wx-mask-"+e;b.style.display="block";a.addEventListener("click",function(){if(!c){localStorage[d]=1}b.style.display="none"},false)}}},bindConactQQ:function(f,b,d){if(arguments.length==1){for(var c=0;c<f.length;c++){SalesApp.bindConactQQ(f[c],f[c].getAttribute("data-account"),f[c].getAttribute("data-qq"))}}try{if(!b){return}if(f&&!(f instanceof HTMLElement)){if(!f.length){return}f=f.get(0)}if(f){var j=SalesApp.isApp(),a=SalesApp.appVersion();if(j=="android"||(j=="guide_android"&&a>=60000)){f.setAttribute("href","mqqwpa://im/chat?chat_type=wpa&uin="+b)}else{if(j=="ios"||(j=="guide_ios"&&a>=70000)){f.setAttribute("href","mqq://im/chat?chat_type=wpa&uin="+b+"&version=1&src_type=web")}else{if(d){var h=document.createElement("SCRIPT");h.src="http://wpa.b.qq.com/cgi/wpa.php";h.charset="utf-8";h.onload=function(){document.body.removeChild(h);BizQQWPA.addCustom({aty:"0",a:"0",nameAccount:b,selector:"",node:f})};document.body.appendChild(h)}else{f.setAttribute("href","http://wpa.qq.com/msgrd?v=3&uin="+b+"&site=qq&menu=yes")}}}}}catch(g){}}};if(window.M&&window.M.define){M.define("/mobile/js/salesapp",function(b,a,c){c.exports=SalesApp})}function get_connect_share_js(e,h,f,d,c){var g="";if(e=="sina"){if("object"===typeof f){f=f.sina}if(f!=""){h=f.substr(0,140)}var b="http://service.weibo.com/share/share.php?appkey=82015185&title="+encodeURIComponent(h)+"&pic="+encodeURIComponent(c)+"&url="+encodeURIComponent(d)+"&ralateUid=1730714982";g="window.open('"+b+"','_blank','scrollbars=no,width=600,height=480,left=75,top=20,status=no,resizable=yes');"}else{if(e=="renren"||e=="xiaonei"){if("object"===typeof h){h=h.renren}if("object"===typeof f){f=f.renren}var a={resourceUrl:d,pic:c,title:h,description:f};shareClick(a)}else{if(e=="qzone"||e=="qq"){if("object"===typeof h){h=h.qq}if("object"===typeof f){f=f.qq}g="window.open('http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title="+encodeURIComponent(h)+"&summary="+encodeURIComponent(f)+"&pics="+encodeURIComponent(c)+"&site="+encodeURIComponent("蚂蜂窝")+"&url="+encodeURIComponent(d)+"','_blank','scrollbars=no,width=600,height=450,left=75,top=20,status=no,resizable=yes');"}else{return false}}}return g}function sns_share_show(e,g,f,d,c,a){var h=e.split("_")[0];if("object"===typeof f){f=f[h]}if(typeof(ata)!="undefined"){ata("sn")}if(h=="wb"){if(f!=""&&f!=undefined){f=f.substr(0,140)}var b="http://www.mafengwo.cn/connect_share.php?key="+e+"&title="+encodeURIComponent(g)+"&content="+encodeURIComponent(f)+"&url="+encodeURIComponent(d)+"&pic="+encodeURIComponent(c);return'window.open("'+b+'", "_blank", "scrollbars=no,width=600,height=480,left=75,top=20,status=no,resizable=yes");'}else{if(h=="rr"){var b="http://www.mafengwo.cn/connect_share.php?key="+e+"&title="+encodeURIComponent(g)+"&content="+encodeURIComponent(f)+"&url="+encodeURIComponent(d)+"&pic="+encodeURIComponent(c);return'window.open("'+b+'", "_blank", "scrollbars=no,width=700,height=650,left=75,top=20,status=no,resizable=yes");'}else{if(h=="qz"){var b="http://www.mafengwo.cn/connect_share.php?key="+e+"&title="+encodeURIComponent(g)+"&content="+encodeURIComponent(f)+"&url="+encodeURIComponent(d)+"&pic="+encodeURIComponent(c);return'window.open("'+b+'", "_blank", "scrollbars=no,width=600,height=450,left=75,top=20,status=no,resizable=yes");'}else{if(h=="qt"){var b="http://www.mafengwo.cn/connect_share.php?key="+e+"&title="+encodeURIComponent(g)+"&content="+encodeURIComponent(f)+"&url="+encodeURIComponent(d)+"&pic="+encodeURIComponent(c);return'window.open("'+b+'", "_blank", "scrollbars=no,width=700,height=680,left=75,top=20,status=no,resizable=no,menubar=no,toolbar=no,scrollbars=no,location=yes");'}else{if(h=="ww"){var b="http://www.mafengwo.cn/connect_share.php?key="+e+"&title="+encodeURIComponent(g)+"&content="+encodeURIComponent(f)+"&url="+encodeURIComponent(d)+"&pic="+encodeURIComponent(c)+"&tag="+encodeURIComponent(a);return'window.open("'+b+'", "_blank", "scrollbars=no,width=660,height=550,left=75,top=20,status=no,resizable=no,menubar=no,toolbar=no,scrollbars=no,location=yes");'}}}}}}if("M" in window&&"define" in M){M.define("/js/m.sns.share",function(){return sns_share_show})}(function(a){a.fn.scrollLoading=function(b){var c={attr:"data-url",container:a(window),callback:a.noop};var d=a.extend({},c,b||{});d.cache=[];a(this).each(function(){var h=this.nodeName.toLowerCase(),g=a(this).attr(d.attr);var i={obj:a(this),tag:h,url:g};d.cache.push(i)});var f=function(g){if(a.isFunction(d.callback)){d.callback.call(g.get(0))}};var e=function(){var g=d.container.height();if(d.container.get(0)===window){contop=a(window).scrollTop()}else{contop=d.container.offset().top}a.each(d.cache,function(m,n){var p=n.obj,j=n.tag,k=n.url,l,h;if(p){l=p.offset().top-contop;h=l+p.height();if((l>=0&&l<g)||(h>0&&h<=g)){if(k){if(j==="img"){f(p.attr("src",k))}else{p.load(k,{},function(){f(p)})}}else{f(p)}n.obj=null}}})};e();d.container.on("scroll",e)}})(jQuery);(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof module!=="undefined"&&module.exports){module.exports=a}else{a(jQuery,window,document)}}}(function(a){(function(f){var d=typeof define==="function"&&define.amd,e=typeof module!=="undefined"&&module.exports,b=("https:"==document.location.protocol)?"https:":"http:",c="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";if(!d){if(e){require("jquery-mousewheel")(a)}else{a.event.special.mousewheel||a("head").append(decodeURI("%3Cscript src="+b+"//"+c+"%3E%3C/script%3E"))}}f()}(function(){var n="mCustomScrollbar",k="mCS",e=".mCustomScrollbar",J={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:true,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:true,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:true,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:true,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:true,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:true}},A=0,W={},T=(window.attachEvent&&!window.addEventListener)?1:0,X=false,i,f=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],L={init:function(aj){var aj=a.extend(true,{},J,aj),ai=G.call(this);if(aj.live){var al=aj.liveSelector||this.selector||e,ak=a(al);if(aj.live==="off"){B(al);return}W[al]=setTimeout(function(){ak.mCustomScrollbar(aj);if(aj.live==="once"&&ak.length){B(al)}},500)}else{B(al)}aj.setWidth=(aj.set_width)?aj.set_width:aj.setWidth;aj.setHeight=(aj.set_height)?aj.set_height:aj.setHeight;aj.axis=(aj.horizontalScroll)?"x":u(aj.axis);aj.scrollInertia=aj.scrollInertia>0&&aj.scrollInertia<17?17:aj.scrollInertia;if(typeof aj.mouseWheel!=="object"&&aj.mouseWheel==true){aj.mouseWheel={enable:true,scrollAmount:"auto",axis:"y",preventDefault:false,deltaFactor:"auto",normalizeDelta:false,invert:false}}aj.mouseWheel.scrollAmount=!aj.mouseWheelPixels?aj.mouseWheel.scrollAmount:aj.mouseWheelPixels;aj.mouseWheel.normalizeDelta=!aj.advanced.normalizeMouseWheelDelta?aj.mouseWheel.normalizeDelta:aj.advanced.normalizeMouseWheelDelta;aj.scrollButtons.scrollType=c(aj.scrollButtons.scrollType);N(aj);return a(ai).each(function(){var an=a(this);if(!an.data(k)){an.data(k,{idx:++A,opt:aj,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:false,tweenRunning:false,sequential:{},langDir:an.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var aq=an.data(k),ap=aq.opt,ao=an.data("mcs-axis"),am=an.data("mcs-scrollbar-position"),ar=an.data("mcs-theme");if(ao){ap.axis=ao}if(am){ap.scrollbarPosition=am}if(ar){ap.theme=ar;N(ap)}ag.call(this);if(aq&&ap.callbacks.onCreate&&typeof ap.callbacks.onCreate==="function"){ap.callbacks.onCreate.call(this)}a("#mCSB_"+aq.idx+"_container img:not(."+f[2]+")").addClass(f[2]);L.update.call(null,an)}})},update:function(ak,aj){var ai=ak||G.call(this);return a(ai).each(function(){var ao=a(this);if(ao.data(k)){var aq=ao.data(k),ap=aq.opt,am=a("#mCSB_"+aq.idx+"_container"),al=a("#mCSB_"+aq.idx),an=[a("#mCSB_"+aq.idx+"_dragger_vertical"),a("#mCSB_"+aq.idx+"_dragger_horizontal")];if(!am.length){return}if(aq.tweenRunning){r(ao)}if(aj&&aq&&ap.callbacks.onBeforeUpdate&&typeof ap.callbacks.onBeforeUpdate==="function"){ap.callbacks.onBeforeUpdate.call(this)}if(ao.hasClass(f[3])){ao.removeClass(f[3])}if(ao.hasClass(f[4])){ao.removeClass(f[4])}al.css("max-height","none");if(al.height()!==ao.height()){al.css("max-height",ao.height())}F.call(this);if(ap.axis!=="y"&&!ap.advanced.autoExpandHorizontalScroll){am.css("width",x(am))}aq.overflowed=U.call(this);ah.call(this);if(ap.autoDraggerLength){z.call(this)}P.call(this);s.call(this);var ar=[Math.abs(am[0].offsetTop),Math.abs(am[0].offsetLeft)];if(ap.axis!=="x"){if(!aq.overflowed[0]){y.call(this);if(ap.axis==="y"){D.call(this)}else{if(ap.axis==="yx"&&aq.overflowed[1]){t(ao,ar[1].toString(),{dir:"x",dur:0,overwrite:"none"})}}}else{if(an[0].height()>an[0].parent().height()){y.call(this)}else{t(ao,ar[0].toString(),{dir:"y",dur:0,overwrite:"none"});aq.contentReset.y=null}}}if(ap.axis!=="y"){if(!aq.overflowed[1]){y.call(this);if(ap.axis==="x"){D.call(this)}else{if(ap.axis==="yx"&&aq.overflowed[0]){t(ao,ar[0].toString(),{dir:"y",dur:0,overwrite:"none"})}}}else{if(an[1].width()>an[1].parent().width()){y.call(this)}else{t(ao,ar[1].toString(),{dir:"x",dur:0,overwrite:"none"});aq.contentReset.x=null}}}if(aj&&aq){if(aj===2&&ap.callbacks.onImageLoad&&typeof ap.callbacks.onImageLoad==="function"){ap.callbacks.onImageLoad.call(this)}else{if(aj===3&&ap.callbacks.onSelectorChange&&typeof ap.callbacks.onSelectorChange==="function"){ap.callbacks.onSelectorChange.call(this)}else{if(ap.callbacks.onUpdate&&typeof ap.callbacks.onUpdate==="function"){ap.callbacks.onUpdate.call(this)}}}}ac.call(this)}})},scrollTo:function(ak,aj){if(typeof ak=="undefined"||ak==null){return}var ai=G.call(this);return a(ai).each(function(){var an=a(this);if(an.data(k)){var aq=an.data(k),ap=aq.opt,ao={trigger:"external",scrollInertia:ap.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:false,timeout:60,callbacks:true,onStart:true,onUpdate:true,onComplete:true},al=a.extend(true,{},ao,aj),ar=q.call(this,ak),am=al.scrollInertia>0&&al.scrollInertia<17?17:al.scrollInertia;ar[0]=ad.call(this,ar[0],"y");ar[1]=ad.call(this,ar[1],"x");if(al.moveDragger){ar[0]*=aq.scrollRatio.y;ar[1]*=aq.scrollRatio.x}al.dur=o()?0:am;setTimeout(function(){if(ar[0]!==null&&typeof ar[0]!=="undefined"&&ap.axis!=="x"&&aq.overflowed[0]){al.dir="y";al.overwrite="all";t(an,ar[0].toString(),al)}if(ar[1]!==null&&typeof ar[1]!=="undefined"&&ap.axis!=="y"&&aq.overflowed[1]){al.dir="x";al.overwrite="none";t(an,ar[1].toString(),al)}},al.timeout)}})},stop:function(){var ai=G.call(this);return a(ai).each(function(){var aj=a(this);if(aj.data(k)){r(aj)}})},disable:function(aj){var ai=G.call(this);return a(ai).each(function(){var ak=a(this);if(ak.data(k)){var al=ak.data(k);ac.call(this,"remove");D.call(this);if(aj){y.call(this)}ah.call(this,true);ak.addClass(f[3])}})},destroy:function(){var ai=G.call(this);return a(ai).each(function(){var al=a(this);if(al.data(k)){var an=al.data(k),am=an.opt,aj=a("#mCSB_"+an.idx),ak=a("#mCSB_"+an.idx+"_container"),ao=a(".mCSB_"+an.idx+"_scrollbar");if(am.live){B(am.liveSelector||a(ai).selector)}ac.call(this,"remove");D.call(this);y.call(this);al.removeData(k);Z(this,"mcs");ao.remove();ak.find("img."+f[2]).removeClass(f[2]);aj.replaceWith(ak.contents());al.removeClass(n+" _"+k+"_"+an.idx+" "+f[6]+" "+f[7]+" "+f[5]+" "+f[3]).addClass(f[4])}})}},G=function(){return(typeof a(this)!=="object"||a(this).length<1)?e:this},N=function(al){var ak=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],aj=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],ai=["minimal","minimal-dark"],an=["minimal","minimal-dark"],am=["minimal","minimal-dark"];al.autoDraggerLength=a.inArray(al.theme,ak)>-1?false:al.autoDraggerLength;al.autoExpandScrollbar=a.inArray(al.theme,aj)>-1?false:al.autoExpandScrollbar;al.scrollButtons.enable=a.inArray(al.theme,ai)>-1?false:al.scrollButtons.enable;al.autoHideScrollbar=a.inArray(al.theme,an)>-1?true:al.autoHideScrollbar;al.scrollbarPosition=a.inArray(al.theme,am)>-1?"outside":al.scrollbarPosition},B=function(ai){if(W[ai]){clearTimeout(W[ai]);Z(W,ai)}},u=function(ai){return(ai==="yx"||ai==="xy"||ai==="auto")?"yx":(ai==="x"||ai==="horizontal")?"x":"y"},c=function(ai){return(ai==="stepped"||ai==="pixels"||ai==="step"||ai==="click")?"stepped":"stepless"},ag=function(){var ar=a(this),aq=ar.data(k),ak=aq.opt,am=ak.autoExpandScrollbar?" "+f[1]+"_expand":"",av=["<div id='mCSB_"+aq.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+aq.idx+"_scrollbar mCS-"+ak.theme+" mCSB_scrollTools_vertical"+am+"'><div class='"+f[12]+"'><div id='mCSB_"+aq.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+aq.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+aq.idx+"_scrollbar mCS-"+ak.theme+" mCSB_scrollTools_horizontal"+am+"'><div class='"+f[12]+"'><div id='mCSB_"+aq.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],an=ak.axis==="yx"?"mCSB_vertical_horizontal":ak.axis==="x"?"mCSB_horizontal":"mCSB_vertical",ap=ak.axis==="yx"?av[0]+av[1]:ak.axis==="x"?av[1]:av[0],ao=ak.axis==="yx"?"<div id='mCSB_"+aq.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",al=ak.autoHideScrollbar?" "+f[6]:"",ai=(ak.axis!=="x"&&aq.langDir==="rtl")?" "+f[7]:"";if(ak.setWidth){ar.css("width",ak.setWidth)}if(ak.setHeight){ar.css("height",ak.setHeight)}ak.setLeft=(ak.axis!=="y"&&aq.langDir==="rtl")?"989999px":ak.setLeft;ar.addClass(n+" _"+k+"_"+aq.idx+al+ai).wrapInner("<div id='mCSB_"+aq.idx+"' class='mCustomScrollBox mCS-"+ak.theme+" "+an+"'><div id='mCSB_"+aq.idx+"_container' class='mCSB_container' style='position:relative; top:"+ak.setTop+"; left:"+ak.setLeft+";' dir='"+aq.langDir+"' /></div>");var aj=a("#mCSB_"+aq.idx),at=a("#mCSB_"+aq.idx+"_container");if(ak.axis!=="y"&&!ak.advanced.autoExpandHorizontalScroll){at.css("width",x(at))}if(ak.scrollbarPosition==="outside"){if(ar.css("position")==="static"){ar.css("position","relative")}ar.css("overflow","visible");aj.addClass("mCSB_outside").after(ap)}else{aj.addClass("mCSB_inside").append(ap);at.wrap(ao)}af.call(this);var au=[a("#mCSB_"+aq.idx+"_dragger_vertical"),a("#mCSB_"+aq.idx+"_dragger_horizontal")];au[0].css("min-height",au[0].height());au[1].css("min-width",au[1].width())},x=function(aj){var ak=[aj[0].scrollWidth,Math.max.apply(Math,aj.children().map(function(){return a(this).outerWidth(true)}).get())],ai=aj.parent().width();return ak[0]>ai?ak[0]:ak[1]>ai?ak[1]:"100%"},F=function(){var ak=a(this),am=ak.data(k),al=am.opt,aj=a("#mCSB_"+am.idx+"_container");if(al.advanced.autoExpandHorizontalScroll&&al.axis!=="y"){aj.css({width:"auto","min-width":0,"overflow-x":"scroll"});var ai=Math.ceil(aj[0].scrollWidth);if(al.advanced.autoExpandHorizontalScroll===3||(al.advanced.autoExpandHorizontalScroll!==2&&ai>aj.parent().width())){aj.css({width:ai,"min-width":"100%","overflow-x":"inherit"})}else{aj.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:(Math.ceil(aj[0].getBoundingClientRect().right+0.4)-Math.floor(aj[0].getBoundingClientRect().left)),"min-width":"100%",position:"relative"}).unwrap()}}},af=function(){var am=a(this),ao=am.data(k),an=ao.opt,ak=a(".mCSB_"+ao.idx+"_scrollbar:first"),aj=!g(an.scrollButtons.tabindex)?"":"tabindex='"+an.scrollButtons.tabindex+"'",al=["<a href='#' class='"+f[13]+"' "+aj+" />","<a href='#' class='"+f[14]+"' "+aj+" />","<a href='#' class='"+f[15]+"' "+aj+" />","<a href='#' class='"+f[16]+"' "+aj+" />"],ai=[(an.axis==="x"?al[2]:al[0]),(an.axis==="x"?al[3]:al[1]),al[2],al[3]];if(an.scrollButtons.enable){ak.prepend(ai[0]).append(ai[1]).next(".mCSB_scrollTools").prepend(ai[2]).append(ai[3])}},z=function(){var an=a(this),al=an.data(k),ai=a("#mCSB_"+al.idx),ao=a("#mCSB_"+al.idx+"_container"),aq=[a("#mCSB_"+al.idx+"_dragger_vertical"),a("#mCSB_"+al.idx+"_dragger_horizontal")],am=[ai.height()/ao.outerHeight(false),ai.width()/ao.outerWidth(false)],aj=[parseInt(aq[0].css("min-height")),Math.round(am[0]*aq[0].parent().height()),parseInt(aq[1].css("min-width")),Math.round(am[1]*aq[1].parent().width())],ak=T&&(aj[1]<aj[0])?aj[0]:aj[1],ap=T&&(aj[3]<aj[2])?aj[2]:aj[3];aq[0].css({height:ak,"max-height":(aq[0].parent().height()-10)}).find(".mCSB_dragger_bar").css({"line-height":aj[0]+"px"});aq[1].css({width:ap,"max-width":(aq[1].parent().width()-10)})},P=function(){var am=a(this),ao=am.data(k),aj=a("#mCSB_"+ao.idx),ak=a("#mCSB_"+ao.idx+"_container"),al=[a("#mCSB_"+ao.idx+"_dragger_vertical"),a("#mCSB_"+ao.idx+"_dragger_horizontal")],an=[ak.outerHeight(false)-aj.height(),ak.outerWidth(false)-aj.width()],ai=[an[0]/(al[0].parent().height()-al[0].height()),an[1]/(al[1].parent().width()-al[1].width())];ao.scrollRatio={y:ai[0],x:ai[1]}},h=function(aj,al,ai){var ak=ai?f[0]+"_expanded":"",am=aj.closest(".mCSB_scrollTools");if(al==="active"){aj.toggleClass(f[0]+" "+ak);am.toggleClass(f[1]);aj[0]._draggable=aj[0]._draggable?0:1}else{if(!aj[0]._draggable){if(al==="hide"){aj.removeClass(f[0]);am.removeClass(f[1])}else{aj.addClass(f[0]);am.addClass(f[1])}}}},U=function(){var ao=a(this),ap=ao.data(k),al=a("#mCSB_"+ap.idx),an=a("#mCSB_"+ap.idx+"_container"),am=ap.overflowed==null?an.height():an.outerHeight(false),aj=ap.overflowed==null?an.width():an.outerWidth(false),ak=an[0].scrollHeight,ai=an[0].scrollWidth;if(ak>am){am=ak}if(ai>aj){aj=ai}return[am>al.height(),aj>al.width()]},y=function(){var am=a(this),ao=am.data(k),an=ao.opt,aj=a("#mCSB_"+ao.idx),ak=a("#mCSB_"+ao.idx+"_container"),al=[a("#mCSB_"+ao.idx+"_dragger_vertical"),a("#mCSB_"+ao.idx+"_dragger_horizontal")];r(am);if((an.axis!=="x"&&!ao.overflowed[0])||(an.axis==="y"&&ao.overflowed[0])){al[0].add(ak).css("top",0);t(am,"_resetY")}if((an.axis!=="y"&&!ao.overflowed[1])||(an.axis==="x"&&ao.overflowed[1])){var ai=dx=0;if(ao.langDir==="rtl"){ai=aj.width()-ak.outerWidth(false);dx=Math.abs(ai/ao.scrollRatio.x)}ak.css("left",ai);al[1].css("left",dx);t(am,"_resetX")}},s=function(){var ak=a(this),am=ak.data(k),al=am.opt;if(!am.bindEvents){K.call(this);if(al.contentTouchScroll){l.call(this)}H.call(this);if(al.mouseWheel.enable){function aj(){ai=setTimeout(function(){if(!a.event.special.mousewheel){aj()}else{clearTimeout(ai);p.call(ak[0])}},100)}var ai;aj()}d.call(this);ab.call(this);if(al.advanced.autoScrollOnFocus){S.call(this)}if(al.scrollButtons.enable){ae.call(this)}if(al.keyboard.enable){R.call(this)}am.bindEvents=true}},D=function(){var al=a(this),an=al.data(k),am=an.opt,ai=k+"_"+an.idx,ao=".mCSB_"+an.idx+"_scrollbar",ak=a("#mCSB_"+an.idx+",#mCSB_"+an.idx+"_container,#mCSB_"+an.idx+"_container_wrapper,"+ao+" ."+f[12]+",#mCSB_"+an.idx+"_dragger_vertical,#mCSB_"+an.idx+"_dragger_horizontal,"+ao+">a"),aj=a("#mCSB_"+an.idx+"_container");if(am.advanced.releaseDraggableSelectors){ak.add(a(am.advanced.releaseDraggableSelectors))}if(am.advanced.extraDraggableSelectors){ak.add(a(am.advanced.extraDraggableSelectors))}if(an.bindEvents){a(document).add(a(!m()||top.document)).unbind("."+ai);ak.each(function(){a(this).unbind("."+ai)});clearTimeout(al[0]._focusTimeout);Z(al[0],"_focusTimeout");clearTimeout(an.sequential.step);Z(an.sequential,"step");clearTimeout(aj[0].onCompleteTimeout);Z(aj[0],"onCompleteTimeout");an.bindEvents=false}},ah=function(aj){var am=a(this),ao=am.data(k),an=ao.opt,ai=a("#mCSB_"+ao.idx+"_container_wrapper"),ak=ai.length?ai:a("#mCSB_"+ao.idx+"_container"),ap=[a("#mCSB_"+ao.idx+"_scrollbar_vertical"),a("#mCSB_"+ao.idx+"_scrollbar_horizontal")],al=[ap[0].find(".mCSB_dragger"),ap[1].find(".mCSB_dragger")];if(an.axis!=="x"){if(ao.overflowed[0]&&!aj){ap[0].add(al[0]).add(ap[0].children("a")).css("display","block");ak.removeClass(f[8]+" "+f[10])}else{if(an.alwaysShowScrollbar){if(an.alwaysShowScrollbar!==2){al[0].css("display","none")}ak.removeClass(f[10])}else{ap[0].css("display","none");ak.addClass(f[10])}ak.addClass(f[8])}}if(an.axis!=="y"){if(ao.overflowed[1]&&!aj){ap[1].add(al[1]).add(ap[1].children("a")).css("display","block");ak.removeClass(f[9]+" "+f[11])}else{if(an.alwaysShowScrollbar){if(an.alwaysShowScrollbar!==2){al[1].css("display","none")}ak.removeClass(f[11])}else{ap[1].css("display","none");ak.addClass(f[11])}ak.addClass(f[9])}}if(!ao.overflowed[0]&&!ao.overflowed[1]){am.addClass(f[5])}else{am.removeClass(f[5])}},j=function(ak){var ai=ak.type,al=ak.target.ownerDocument!==document&&frameElement!==null?[a(frameElement).offset().top,a(frameElement).offset().left]:null,an=m()&&ak.target.ownerDocument!==top.document&&frameElement!==null?[a(ak.view.frameElement).offset().top,a(ak.view.frameElement).offset().left]:[0,0];switch(ai){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return al?[ak.originalEvent.pageY-al[0]+an[0],ak.originalEvent.pageX-al[1]+an[1],false]:[ak.originalEvent.pageY,ak.originalEvent.pageX,false];break;case"touchstart":case"touchmove":case"touchend":var am=ak.originalEvent.touches[0]||ak.originalEvent.changedTouches[0],aj=ak.originalEvent.touches.length||ak.originalEvent.changedTouches.length;return ak.target.ownerDocument!==document?[am.screenY,am.screenX,aj>1]:[am.pageY,am.pageX,aj>1];break;default:return al?[ak.pageY-al[0]+an[0],ak.pageX-al[1]+an[1],false]:[ak.pageY,ak.pageX,false]}},K=function(){var ao=a(this),am=ao.data(k),aj=am.opt,al=k+"_"+am.idx,an=["mCSB_"+am.idx+"_dragger_vertical","mCSB_"+am.idx+"_dragger_horizontal"],ap=a("#mCSB_"+am.idx+"_container"),aq=a("#"+an[0]+",#"+an[1]),av,ar,au,at=aj.advanced.releaseDraggableSelectors?aq.add(a(aj.advanced.releaseDraggableSelectors)):aq,ai=aj.advanced.extraDraggableSelectors?a(!m()||top.document).add(a(aj.advanced.extraDraggableSelectors)):a(!m()||top.document);aq.bind("contextmenu."+al,function(aw){aw.preventDefault()}).bind("mousedown."+al+" touchstart."+al+" pointerdown."+al+" MSPointerDown."+al,function(az){az.stopImmediatePropagation();az.preventDefault();if(!Y(az)){return}X=true;if(T){document.onselectstart=function(){return false}}v.call(ap,false);r(ao);av=a(this);var aA=av.offset(),aB=j(az)[0]-aA.top,aw=j(az)[1]-aA.left,ay=av.height()+aA.top,ax=av.width()+aA.left;if(aB<ay&&aB>0&&aw<ax&&aw>0){ar=aB;au=aw}h(av,"active",aj.autoExpandScrollbar)}).bind("touchmove."+al,function(ax){ax.stopImmediatePropagation();ax.preventDefault();var ay=av.offset(),az=j(ax)[0]-ay.top,aw=j(ax)[1]-ay.left;ak(ar,au,az,aw)});a(document).add(ai).bind("mousemove."+al+" pointermove."+al+" MSPointerMove."+al,function(ax){if(av){var ay=av.offset(),az=j(ax)[0]-ay.top,aw=j(ax)[1]-ay.left;if(ar===az&&au===aw){return}ak(ar,au,az,aw)}}).add(at).bind("mouseup."+al+" touchend."+al+" pointerup."+al+" MSPointerUp."+al,function(aw){if(av){h(av,"active",aj.autoExpandScrollbar);av=null}X=false;if(T){document.onselectstart=null}v.call(ap,true)});function ak(ay,az,aB,aw){ap[0].idleTimer=aj.scrollInertia<233?250:0;if(av.attr("id")===an[1]){var ax="x",aA=((av[0].offsetLeft-az)+aw)*am.scrollRatio.x}else{var ax="y",aA=((av[0].offsetTop-ay)+aB)*am.scrollRatio.y}t(ao,aA.toString(),{dir:ax,drag:true})}},l=function(){var ax=a(this),aN=ax.data(k),aJ=aN.opt,aG=k+"_"+aN.idx,at=a("#mCSB_"+aN.idx),ay=a("#mCSB_"+aN.idx+"_container"),au=[a("#mCSB_"+aN.idx+"_dragger_vertical"),a("#mCSB_"+aN.idx+"_dragger_horizontal")],aq,aF,aH,aO,aP,aD=[],aE=[],aI,az,ar,ap,aK,aw,ak=0,aj,ao=aJ.axis==="yx"?"none":"all",aQ=[],aR,aM,aB=ay.find("iframe"),al=["touchstart."+aG+" pointerdown."+aG+" MSPointerDown."+aG,"touchmove."+aG+" pointermove."+aG+" MSPointerMove."+aG,"touchend."+aG+" pointerup."+aG+" MSPointerUp."+aG],aL=document.body.style.touchAction!==undefined&&document.body.style.touchAction!=="";ay.bind(al[0],function(aS){av(aS)}).bind(al[1],function(aS){aA(aS)});at.bind(al[0],function(aS){an(aS)}).bind(al[2],function(aS){am(aS)});if(aB.length){aB.each(function(){a(this).bind("load",function(){if(m(this)){a(this.contentDocument||this.contentWindow.document).bind(al[0],function(aS){av(aS);an(aS)}).bind(al[1],function(aS){aA(aS)}).bind(al[2],function(aS){am(aS)})}})})}function av(aS){if(!V(aS)||X||j(aS)[2]){i=0;return}i=1;aR=0;aM=0;aq=1;ax.removeClass("mCS_touch_action");var aT=ay.offset();aF=j(aS)[0]-aT.top;aH=j(aS)[1]-aT.left;aQ=[j(aS)[0],j(aS)[1]]}function aA(aV){if(!V(aV)||X||j(aV)[2]){return}if(!aJ.documentTouchScroll){aV.preventDefault()}aV.stopImmediatePropagation();if(aM&&!aR){return}if(aq){az=Q();var aU=at.offset(),aX=j(aV)[0]-aU.top,aZ=j(aV)[1]-aU.left,aW="mcsLinearOut";aD.push(aX);aE.push(aZ);aQ[2]=Math.abs(j(aV)[0]-aQ[0]);aQ[3]=Math.abs(j(aV)[1]-aQ[1]);if(aN.overflowed[0]){var aT=au[0].parent().height()-au[0].height(),aY=((aF-aX)>0&&(aX-aF)>-(aT*aN.scrollRatio.y)&&(aQ[3]*2<aQ[2]||aJ.axis==="yx"))}if(aN.overflowed[1]){var aS=au[1].parent().width()-au[1].width(),a0=((aH-aZ)>0&&(aZ-aH)>-(aS*aN.scrollRatio.x)&&(aQ[2]*2<aQ[3]||aJ.axis==="yx"))}if(aY||a0){if(!aL){aV.preventDefault()}aR=1}else{aM=1;ax.addClass("mCS_touch_action")}if(aL){aV.preventDefault()}aw=aJ.axis==="yx"?[(aF-aX),(aH-aZ)]:aJ.axis==="x"?[null,(aH-aZ)]:[(aF-aX),null];ay[0].idleTimer=250;if(aN.overflowed[0]){aC(aw[0],ak,aW,"y","all",true)}if(aN.overflowed[1]){aC(aw[1],ak,aW,"x",ao,true)}}}function an(aS){if(!V(aS)||X||j(aS)[2]){i=0;return}i=1;aS.stopImmediatePropagation();r(ax);aI=Q();var aT=at.offset();aO=j(aS)[0]-aT.top;aP=j(aS)[1]-aT.left;aD=[];aE=[]}function am(aU){if(!V(aU)||X||j(aU)[2]){return}aq=0;aU.stopImmediatePropagation();aR=0;aM=0;ar=Q();var aS=at.offset(),aY=j(aU)[0]-aS.top,a0=j(aU)[1]-aS.left;if((ar-az)>30){return}aK=1000/(ar-aI);var aV="mcsEaseOut",aW=aK<2.5,a1=aW?[aD[aD.length-2],aE[aE.length-2]]:[0,0];ap=aW?[(aY-a1[0]),(a0-a1[1])]:[aY-aO,a0-aP];var aT=[Math.abs(ap[0]),Math.abs(ap[1])];aK=aW?[Math.abs(ap[0]/4),Math.abs(ap[1]/4)]:[aK,aK];var aZ=[Math.abs(ay[0].offsetTop)-(ap[0]*ai((aT[0]/aK[0]),aK[0])),Math.abs(ay[0].offsetLeft)-(ap[1]*ai((aT[1]/aK[1]),aK[1]))];aw=aJ.axis==="yx"?[aZ[0],aZ[1]]:aJ.axis==="x"?[null,aZ[1]]:[aZ[0],null];aj=[(aT[0]*4)+aJ.scrollInertia,(aT[1]*4)+aJ.scrollInertia];var aX=parseInt(aJ.contentTouchScroll)||0;aw[0]=aT[0]>aX?aw[0]:0;aw[1]=aT[1]>aX?aw[1]:0;if(aN.overflowed[0]){aC(aw[0],aj[0],aV,"y",ao,false)}if(aN.overflowed[1]){aC(aw[1],aj[1],aV,"x",ao,false)}}function ai(aU,aS){var aT=[aS*1.5,aS*2,aS/1.5,aS/2];if(aU>90){return aS>4?aT[0]:aT[3]}else{if(aU>60){return aS>3?aT[3]:aT[2]}else{if(aU>30){return aS>8?aT[1]:aS>6?aT[0]:aS>4?aS:aT[2]}else{return aS>8?aS:aT[3]}}}}function aC(aU,aW,aX,aT,aS,aV){if(!aU){return}t(ax,aU.toString(),{dur:aW,scrollEasing:aX,dir:aT,overwrite:aS,drag:aV})}},H=function(){var ap=a(this),ao=ap.data(k),ak=ao.opt,ar=ao.sequential,al=k+"_"+ao.idx,aq=a("#mCSB_"+ao.idx+"_container"),ai=aq.parent(),am;aq.bind("mousedown."+al,function(at){if(i){return}if(!am){am=1;X=true}}).add(document).bind("mousemove."+al,function(au){if(!i&&am&&an()){var av=aq.offset(),aw=j(au)[0]-av.top+aq[0].offsetTop,at=j(au)[1]-av.left+aq[0].offsetLeft;if(aw>0&&aw<ai.height()&&at>0&&at<ai.width()){if(ar.step){aj("off",null,"stepped")}}else{if(ak.axis!=="x"&&ao.overflowed[0]){if(aw<0){aj("on",38)}else{if(aw>ai.height()){aj("on",40)}}}if(ak.axis!=="y"&&ao.overflowed[1]){if(at<0){aj("on",37)}else{if(at>ai.width()){aj("on",39)}}}}}}).bind("mouseup."+al+" dragend."+al,function(at){if(i){return}if(am){am=0;aj("off",null)}X=false});function an(){return window.getSelection?window.getSelection().toString():document.selection&&document.selection.type!="Control"?document.selection.createRange().text:0}function aj(at,av,au){ar.type=au&&am?"stepped":"stepless";ar.scrollAmount=10;b(ap,at,av,"mcsLinearOut",au?60:null)}},p=function(){if(!a(this).data(k)){return}var an=a(this),ap=an.data(k),ao=ap.opt,ak=k+"_"+ap.idx,aj=a("#mCSB_"+ap.idx),am=[a("#mCSB_"+ap.idx+"_dragger_vertical"),a("#mCSB_"+ap.idx+"_dragger_horizontal")],ai=a("#mCSB_"+ap.idx+"_container").find("iframe");if(ai.length){ai.each(function(){a(this).bind("load",function(){if(m(this)){a(this.contentDocument||this.contentWindow.document).bind("mousewheel."+ak,function(aq,ar){al(aq,ar)})}})})}aj.bind("mousewheel."+ak,function(aq,ar){al(aq,ar)});function al(aw,aA){r(an);if(C(an,aw.target)){return}var ay=ao.mouseWheel.deltaFactor!=="auto"?parseInt(ao.mouseWheel.deltaFactor):(T&&aw.deltaFactor<100)?100:aw.deltaFactor||100,aq=ao.scrollInertia;if(ao.axis==="x"||ao.mouseWheel.axis==="x"){var at="x",az=[Math.round(ay*ap.scrollRatio.x),parseInt(ao.mouseWheel.scrollAmount)],av=ao.mouseWheel.scrollAmount!=="auto"?az[1]:az[0]>=aj.width()?aj.width()*0.9:az[0],aB=Math.abs(a("#mCSB_"+ap.idx+"_container")[0].offsetLeft),ax=am[1][0].offsetLeft,au=am[1].parent().width()-am[1].width(),ar=ao.mouseWheel.axis==="y"?(aw.deltaY||aA):aw.deltaX}else{var at="y",az=[Math.round(ay*ap.scrollRatio.y),parseInt(ao.mouseWheel.scrollAmount)],av=ao.mouseWheel.scrollAmount!=="auto"?az[1]:az[0]>=aj.height()?aj.height()*0.9:az[0],aB=Math.abs(a("#mCSB_"+ap.idx+"_container")[0].offsetTop),ax=am[0][0].offsetTop,au=am[0].parent().height()-am[0].height(),ar=aw.deltaY||aA}if((at==="y"&&!ap.overflowed[0])||(at==="x"&&!ap.overflowed[1])){return}if(ao.mouseWheel.invert||aw.webkitDirectionInvertedFromDevice){ar=-ar}if(ao.mouseWheel.normalizeDelta){ar=ar<0?-1:1}if((ar>0&&ax!==0)||(ar<0&&ax!==au)||ao.mouseWheel.preventDefault){aw.stopImmediatePropagation();aw.preventDefault()}if(aw.deltaFactor<5&&!ao.mouseWheel.normalizeDelta){av=aw.deltaFactor;aq=17}t(an,(aB-(ar*av)).toString(),{dir:at,dur:aq})}},E=new Object(),m=function(ak){var ai=false,an=false,aj=null;if(ak===undefined){an="#empty"}else{if(a(ak).attr("id")!==undefined){an=a(ak).attr("id")}}if(an!==false&&E[an]!==undefined){return E[an]}if(!ak){try{var am=top.document;aj=am.body.innerHTML}catch(al){}ai=(aj!==null)}else{try{var am=ak.contentDocument||ak.contentWindow.document;aj=am.body.innerHTML}catch(al){}ai=(aj!==null)}if(an!==false){E[an]=ai}return ai},v=function(ai){var aj=this.find("iframe");if(!aj.length){return}var ak=!ai?"none":"auto";aj.css("pointer-events",ak)},C=function(ak,am){var ai=am.nodeName.toLowerCase(),aj=ak.data(k).opt.mouseWheel.disableOver,al=["select","textarea"];return a.inArray(ai,aj)>-1&&!(a.inArray(ai,al)>-1&&!a(am).is(":focus"))},d=function(){var am=a(this),an=am.data(k),ak=k+"_"+an.idx,al=a("#mCSB_"+an.idx+"_container"),ao=al.parent(),aj=a(".mCSB_"+an.idx+"_scrollbar ."+f[12]),ai;aj.bind("mousedown."+ak+" touchstart."+ak+" pointerdown."+ak+" MSPointerDown."+ak,function(ap){X=true;if(!a(ap.target).hasClass("mCSB_dragger")){ai=1}}).bind("touchend."+ak+" pointerup."+ak+" MSPointerUp."+ak,function(ap){X=false}).bind("click."+ak,function(au){if(!ai){return}ai=0;if(a(au.target).hasClass(f[12])||a(au.target).hasClass("mCSB_draggerRail")){r(am);var aq=a(this),at=aq.find(".mCSB_dragger");if(aq.parent(".mCSB_scrollTools_horizontal").length>0){if(!an.overflowed[1]){return}var ap="x",ar=au.pageX>at.offset().left?-1:1,av=Math.abs(al[0].offsetLeft)-(ar*(ao.width()*0.9))}else{if(!an.overflowed[0]){return}var ap="y",ar=au.pageY>at.offset().top?-1:1,av=Math.abs(al[0].offsetTop)-(ar*(ao.height()*0.9))}t(am,av.toString(),{dir:ap,scrollEasing:"mcsEaseInOut"})}})},S=function(){var ak=a(this),am=ak.data(k),al=am.opt,ai=k+"_"+am.idx,aj=a("#mCSB_"+am.idx+"_container"),an=aj.parent();aj.bind("focusin."+ai,function(aq){var ap=a(document.activeElement),ar=aj.find(".mCustomScrollBox").length,ao=0;if(!ap.is(al.advanced.autoScrollOnFocus)){return}r(ak);clearTimeout(ak[0]._focusTimeout);ak[0]._focusTimer=ar?(ao+17)*ar:0;ak[0]._focusTimeout=setTimeout(function(){var aw=[w(ap)[0],w(ap)[1]],av=[aj[0].offsetTop,aj[0].offsetLeft],at=[(av[0]+aw[0]>=0&&av[0]+aw[0]<an.height()-ap.outerHeight(false)),(av[1]+aw[1]>=0&&av[0]+aw[1]<an.width()-ap.outerWidth(false))],au=(al.axis==="yx"&&!at[0]&&!at[1])?"none":"all";if(al.axis!=="x"&&!at[0]){t(ak,aw[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:au,dur:ao})}if(al.axis!=="y"&&!at[1]){t(ak,aw[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:au,dur:ao})}},ak[0]._focusTimer)})},ab=function(){var aj=a(this),ak=aj.data(k),ai=k+"_"+ak.idx,al=a("#mCSB_"+ak.idx+"_container").parent();al.bind("scroll."+ai,function(am){if(al.scrollTop()!==0||al.scrollLeft()!==0){a(".mCSB_"+ak.idx+"_scrollbar").css("visibility","hidden")}})},ae=function(){var am=a(this),ao=am.data(k),an=ao.opt,ai=ao.sequential,ak=k+"_"+ao.idx,al=".mCSB_"+ao.idx+"_scrollbar",aj=a(al+">a");aj.bind("contextmenu."+ak,function(ap){ap.preventDefault()}).bind("mousedown."+ak+" touchstart."+ak+" pointerdown."+ak+" MSPointerDown."+ak+" mouseup."+ak+" touchend."+ak+" pointerup."+ak+" MSPointerUp."+ak+" mouseout."+ak+" pointerout."+ak+" MSPointerOut."+ak+" click."+ak,function(ar){ar.preventDefault();if(!Y(ar)){return}var aq=a(this).attr("class");ai.type=an.scrollButtons.scrollType;switch(ar.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if(ai.type==="stepped"){return}X=true;ao.tweenRunning=false;ap("on",aq);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if(ai.type==="stepped"){return}X=false;if(ai.dir){ap("off",aq)}break;case"click":if(ai.type!=="stepped"||ao.tweenRunning){return}ap("on",aq);break}function ap(at,au){ai.scrollAmount=an.scrollButtons.scrollAmount;b(am,at,au)}})},R=function(){var ap=a(this),ao=ap.data(k),aj=ao.opt,au=ao.sequential,al=k+"_"+ao.idx,ak=a("#mCSB_"+ao.idx),ar=a("#mCSB_"+ao.idx+"_container"),ai=ar.parent(),aq="input,textarea,select,datalist,keygen,[contenteditable='true']",am=ar.find("iframe"),at=["blur."+al+" keydown."+al+" keyup."+al];if(am.length){am.each(function(){a(this).bind("load",function(){if(m(this)){a(this.contentDocument||this.contentWindow.document).bind(at[0],function(av){an(av)})}})})}ak.attr("tabindex","0").bind(at[0],function(av){an(av)});function an(aA){switch(aA.type){case"blur":if(ao.tweenRunning&&au.dir){av("off",null)}break;case"keydown":case"keyup":var ax=aA.keyCode?aA.keyCode:aA.which,ay="on";if((aj.axis!=="x"&&(ax===38||ax===40))||(aj.axis!=="y"&&(ax===37||ax===39))){if(((ax===38||ax===40)&&!ao.overflowed[0])||((ax===37||ax===39)&&!ao.overflowed[1])){return}if(aA.type==="keyup"){ay="off"}if(!a(document.activeElement).is(aq)){aA.preventDefault();aA.stopImmediatePropagation();av(ay,ax)}}else{if(ax===33||ax===34){if(ao.overflowed[0]||ao.overflowed[1]){aA.preventDefault();aA.stopImmediatePropagation()}if(aA.type==="keyup"){r(ap);var az=ax===34?-1:1;if(aj.axis==="x"||(aj.axis==="yx"&&ao.overflowed[1]&&!ao.overflowed[0])){var aw="x",aB=Math.abs(ar[0].offsetLeft)-(az*(ai.width()*0.9))}else{var aw="y",aB=Math.abs(ar[0].offsetTop)-(az*(ai.height()*0.9))}t(ap,aB.toString(),{dir:aw,scrollEasing:"mcsEaseInOut"})}}else{if(ax===35||ax===36){if(!a(document.activeElement).is(aq)){if(ao.overflowed[0]||ao.overflowed[1]){aA.preventDefault();aA.stopImmediatePropagation()}if(aA.type==="keyup"){if(aj.axis==="x"||(aj.axis==="yx"&&ao.overflowed[1]&&!ao.overflowed[0])){var aw="x",aB=ax===35?Math.abs(ai.width()-ar.outerWidth(false)):0}else{var aw="y",aB=ax===35?Math.abs(ai.height()-ar.outerHeight(false)):0}t(ap,aB.toString(),{dir:aw,scrollEasing:"mcsEaseInOut"})}}}}}break}function av(aC,aD){au.type=aj.keyboard.scrollType;au.scrollAmount=aj.keyboard.scrollAmount;if(au.type==="stepped"&&ao.tweenRunning){return}b(ap,aC,aD)}}},b=function(ak,an,al,aq,aw){var ar=ak.data(k),aj=ar.opt,av=ar.sequential,at=a("#mCSB_"+ar.idx+"_container"),ai=av.type==="stepped"?true:false,ap=aj.scrollInertia<26?26:aj.scrollInertia,au=aj.scrollInertia<1?17:aj.scrollInertia;switch(an){case"on":av.dir=[(al===f[16]||al===f[15]||al===39||al===37?"x":"y"),(al===f[13]||al===f[15]||al===38||al===37?-1:1)];r(ak);if(g(al)&&av.type==="stepped"){return}am(ai);break;case"off":ao();if(ai||(ar.tweenRunning&&av.dir)){am(true)}break}function am(ax){if(aj.snapAmount){av.scrollAmount=!(aj.snapAmount instanceof Array)?aj.snapAmount:av.dir[0]==="x"?aj.snapAmount[1]:aj.snapAmount[0]}var aD=av.type!=="stepped",aH=aw?aw:!ax?1000/60:aD?ap/1.5:au,az=!ax?2.5:aD?7.5:40,aG=[Math.abs(at[0].offsetTop),Math.abs(at[0].offsetLeft)],aC=[ar.scrollRatio.y>10?10:ar.scrollRatio.y,ar.scrollRatio.x>10?10:ar.scrollRatio.x],aA=av.dir[0]==="x"?aG[1]+(av.dir[1]*(aC[1]*az)):aG[0]+(av.dir[1]*(aC[0]*az)),aF=av.dir[0]==="x"?aG[1]+(av.dir[1]*parseInt(av.scrollAmount)):aG[0]+(av.dir[1]*parseInt(av.scrollAmount)),aE=av.scrollAmount!=="auto"?aF:aA,aB=aq?aq:!ax?"mcsLinear":aD?"mcsLinearOut":"mcsEaseInOut",ay=!ax?false:true;if(ax&&aH<17){aE=av.dir[0]==="x"?aG[1]:aG[0]}t(ak,aE.toString(),{dir:av.dir[0],scrollEasing:aB,dur:aH,onComplete:ay});if(ax){av.dir=false;return}clearTimeout(av.step);av.step=setTimeout(function(){am()},aH)}function ao(){clearTimeout(av.step);Z(av,"step");r(ak)}},q=function(ak){var aj=a(this).data(k).opt,ai=[];if(typeof ak==="function"){ak=ak()}if(!(ak instanceof Array)){ai[0]=ak.y?ak.y:ak.x||aj.axis==="x"?null:ak;ai[1]=ak.x?ak.x:ak.y||aj.axis==="y"?null:ak}else{ai=ak.length>1?[ak[0],ak[1]]:aj.axis==="x"?[null,ak[0]]:[ak[0],null]}if(typeof ai[0]==="function"){ai[0]=ai[0]()}if(typeof ai[1]==="function"){ai[1]=ai[1]()}return ai},ad=function(am,an){if(am==null||typeof am=="undefined"){return}var ar=a(this),aq=ar.data(k),al=aq.opt,at=a("#mCSB_"+aq.idx+"_container"),aj=at.parent(),av=typeof am;if(!an){an=al.axis==="x"?"x":"y"}var ai=an==="x"?at.outerWidth(false)-aj.width():at.outerHeight(false)-aj.height(),au=an==="x"?at[0].offsetLeft:at[0].offsetTop,ap=an==="x"?"left":"top";switch(av){case"function":return am();break;case"object":var ao=am.jquery?am:a(am);if(!ao.length){return}return an==="x"?w(ao)[1]:w(ao)[0];break;case"string":case"number":if(g(am)){return Math.abs(am)}else{if(am.indexOf("%")!==-1){return Math.abs(ai*parseInt(am)/100)}else{if(am.indexOf("-=")!==-1){return Math.abs(au-parseInt(am.split("-=")[1]))}else{if(am.indexOf("+=")!==-1){var ak=(au+parseInt(am.split("+=")[1]));return ak>=0?0:Math.abs(ak)}else{if(am.indexOf("px")!==-1&&g(am.split("px")[0])){return Math.abs(am.split("px")[0])}else{if(am==="top"||am==="left"){return 0}else{if(am==="bottom"){return Math.abs(aj.height()-at.outerHeight(false))}else{if(am==="right"){return Math.abs(aj.width()-at.outerWidth(false))}else{if(am==="first"||am==="last"){var ao=at.find(":"+am);return an==="x"?w(ao)[1]:w(ao)[0]}else{if(a(am).length){return an==="x"?w(a(am))[1]:w(a(am))[0]}else{at.css(ap,am);L.update.call(null,ar[0]);return}}}}}}}}}}break}},ac=function(aq){var ao=a(this),am=ao.data(k),aj=am.opt,ap=a("#mCSB_"+am.idx+"_container");if(aq){clearTimeout(ap[0].autoUpdate);Z(ap[0],"autoUpdate");return}ai();function ai(){clearTimeout(ap[0].autoUpdate);if(ao.parents("html").length===0){ao=null;return}ap[0].autoUpdate=setTimeout(function(){if(aj.advanced.updateOnSelectorChange){am.poll.change.n=al();if(am.poll.change.n!==am.poll.change.o){am.poll.change.o=am.poll.change.n;ak(3);return}}if(aj.advanced.updateOnContentResize){am.poll.size.n=ao[0].scrollHeight+ao[0].scrollWidth+ap[0].offsetHeight+ao[0].offsetHeight+ao[0].offsetWidth;if(am.poll.size.n!==am.poll.size.o){am.poll.size.o=am.poll.size.n;ak(1);return}}if(aj.advanced.updateOnImageLoad){if(!(aj.advanced.updateOnImageLoad==="auto"&&aj.axis==="y")){am.poll.img.n=ap.find("img").length;if(am.poll.img.n!==am.poll.img.o){am.poll.img.o=am.poll.img.n;ap.find("img").each(function(){an(this)});return}}}if(aj.advanced.updateOnSelectorChange||aj.advanced.updateOnContentResize||aj.advanced.updateOnImageLoad){ai()}},aj.advanced.autoUpdateTimeout)}function an(av){if(a(av).hasClass(f[2])){ak();return}var ar=new Image();function au(aw,ax){return function(){return ax.apply(aw,arguments)}}function at(){this.onload=null;a(av).addClass(f[2]);ak(2)}ar.onload=au(ar,at);ar.src=av.src}function al(){if(aj.advanced.updateOnSelectorChange===true){aj.advanced.updateOnSelectorChange="*"}var ar=0,at=ap.find(aj.advanced.updateOnSelectorChange);if(aj.advanced.updateOnSelectorChange&&at.length>0){at.each(function(){ar+=this.offsetHeight+this.offsetWidth})}return ar}function ak(ar){clearTimeout(ap[0].autoUpdate);L.update.call(null,ao[0],ar)}},O=function(ak,ai,aj){return(Math.round(ak/ai)*ai-aj)},r=function(ai){var ak=ai.data(k),aj=a("#mCSB_"+ak.idx+"_container,#mCSB_"+ak.idx+"_container_wrapper,#mCSB_"+ak.idx+"_dragger_vertical,#mCSB_"+ak.idx+"_dragger_horizontal");aj.each(function(){aa.call(this)})},t=function(aj,al,an){var aE=aj.data(k),aA=aE.opt,az={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:false,dur:aA.scrollInertia,overwrite:"all",callbacks:true,onStart:true,onUpdate:true,onComplete:true},an=a.extend(az,an),aC=[an.dur,(an.drag?0:an.dur)],ao=a("#mCSB_"+aE.idx),aw=a("#mCSB_"+aE.idx+"_container"),at=aw.parent(),aG=aA.callbacks.onTotalScrollOffset?q.call(aj,aA.callbacks.onTotalScrollOffset):[0,0],ai=aA.callbacks.onTotalScrollBackOffset?q.call(aj,aA.callbacks.onTotalScrollBackOffset):[0,0];aE.trigger=an.trigger;if(at.scrollTop()!==0||at.scrollLeft()!==0){a(".mCSB_"+aE.idx+"_scrollbar").css("visibility","visible");at.scrollTop(0).scrollLeft(0)}if(al==="_resetY"&&!aE.contentReset.y){if(am("onOverflowYNone")){aA.callbacks.onOverflowYNone.call(aj[0])}aE.contentReset.y=1}if(al==="_resetX"&&!aE.contentReset.x){if(am("onOverflowXNone")){aA.callbacks.onOverflowXNone.call(aj[0])}aE.contentReset.x=1}if(al==="_resetY"||al==="_resetX"){return}if((aE.contentReset.y||!aj[0].mcs)&&aE.overflowed[0]){if(am("onOverflowY")){aA.callbacks.onOverflowY.call(aj[0])}aE.contentReset.x=null}if((aE.contentReset.x||!aj[0].mcs)&&aE.overflowed[1]){if(am("onOverflowX")){aA.callbacks.onOverflowX.call(aj[0])}aE.contentReset.x=null}if(aA.snapAmount){var ay=!(aA.snapAmount instanceof Array)?aA.snapAmount:an.dir==="x"?aA.snapAmount[1]:aA.snapAmount[0];al=O(al,ay,aA.snapOffset)}switch(an.dir){case"x":var aq=a("#mCSB_"+aE.idx+"_dragger_horizontal"),au="left",ax=aw[0].offsetLeft,aD=[ao.width()-aw.outerWidth(false),aq.parent().width()-aq.width()],ak=[al,al===0?0:(al/aE.scrollRatio.x)],aH=aG[1],aF=ai[1],av=aH>0?aH/aE.scrollRatio.x:0,ap=aF>0?aF/aE.scrollRatio.x:0;break;case"y":var aq=a("#mCSB_"+aE.idx+"_dragger_vertical"),au="top",ax=aw[0].offsetTop,aD=[ao.height()-aw.outerHeight(false),aq.parent().height()-aq.height()],ak=[al,al===0?0:(al/aE.scrollRatio.y)],aH=aG[0],aF=ai[0],av=aH>0?aH/aE.scrollRatio.y:0,ap=aF>0?aF/aE.scrollRatio.y:0;break}if(ak[1]<0||(ak[0]===0&&ak[1]===0)){ak=[0,0]}else{if(ak[1]>=aD[1]){ak=[aD[0],aD[1]]}else{ak[0]=-ak[0]}}if(!aj[0].mcs){aB();if(am("onInit")){aA.callbacks.onInit.call(aj[0])}}clearTimeout(aw[0].onCompleteTimeout);I(aq[0],au,Math.round(ak[1]),aC[1],an.scrollEasing);if(!aE.tweenRunning&&((ax===0&&ak[0]>=0)||(ax===aD[0]&&ak[0]<=aD[0]))){return}I(aw[0],au,Math.round(ak[0]),aC[0],an.scrollEasing,an.overwrite,{onStart:function(){if(an.callbacks&&an.onStart&&!aE.tweenRunning){if(am("onScrollStart")){aB();aA.callbacks.onScrollStart.call(aj[0])}aE.tweenRunning=true;h(aq);aE.cbOffsets=ar()}},onUpdate:function(){if(an.callbacks&&an.onUpdate){if(am("whileScrolling")){aB();aA.callbacks.whileScrolling.call(aj[0])}}},onComplete:function(){if(an.callbacks&&an.onComplete){if(aA.axis==="yx"){clearTimeout(aw[0].onCompleteTimeout)}var aI=aw[0].idleTimer||0;aw[0].onCompleteTimeout=setTimeout(function(){if(am("onScroll")){aB();aA.callbacks.onScroll.call(aj[0])}if(am("onTotalScroll")&&ak[1]>=aD[1]-av&&aE.cbOffsets[0]){aB();aA.callbacks.onTotalScroll.call(aj[0])}if(am("onTotalScrollBack")&&ak[1]<=ap&&aE.cbOffsets[1]){aB();aA.callbacks.onTotalScrollBack.call(aj[0])}aE.tweenRunning=false;aw[0].idleTimer=0;h(aq,"hide")},aI)}}});function am(aI){return aE&&aA.callbacks[aI]&&typeof aA.callbacks[aI]==="function"}function ar(){return[aA.callbacks.alwaysTriggerOffsets||ax>=aD[0]+aH,aA.callbacks.alwaysTriggerOffsets||ax<=-aF]}function aB(){var aK=[aw[0].offsetTop,aw[0].offsetLeft],aL=[aq[0].offsetTop,aq[0].offsetLeft],aI=[aw.outerHeight(false),aw.outerWidth(false)],aJ=[ao.height(),ao.width()];aj[0].mcs={content:aw,top:aK[0],left:aK[1],draggerTop:aL[0],draggerLeft:aL[1],topPct:Math.round((100*Math.abs(aK[0]))/(Math.abs(aI[0])-aJ[0])),leftPct:Math.round((100*Math.abs(aK[1]))/(Math.abs(aI[1])-aJ[1])),direction:an.dir}}},I=function(ak,an,al,aj,av,am,aF){if(!ak._mTween){ak._mTween={top:{},left:{}}}var aF=aF||{},aC=aF.onStart||function(){},aw=aF.onUpdate||function(){},aD=aF.onComplete||function(){},at=Q(),aq,ao=0,ay=ak.offsetTop,az=ak.style,au,aB=ak._mTween[an];if(an==="left"){ay=ak.offsetLeft}var ar=al-ay;aB.stop=0;if(am!=="none"){ax()}ai();function aE(){if(aB.stop){return}if(!ao){aC.call()}ao=Q()-at;aA();if(ao>=aB.time){aB.time=(ao>aB.time)?ao+aq-(ao-aB.time):ao+aq-1;if(aB.time<ao+1){aB.time=ao+1}}if(aB.time<aj){aB.id=au(aE)}else{aD.call()}}function aA(){if(aj>0){aB.currVal=ap(aB.time,ay,ar,aj,av);az[an]=Math.round(aB.currVal)+"px"}else{az[an]=al+"px"}aw.call()}function ai(){aq=1000/60;aB.time=ao+aq;au=(!window.requestAnimationFrame)?function(aG){aA();return setTimeout(aG,0.01)}:window.requestAnimationFrame;aB.id=au(aE)}function ax(){if(aB.id==null){return}if(!window.requestAnimationFrame){clearTimeout(aB.id)}else{window.cancelAnimationFrame(aB.id)}aB.id=null}function ap(aI,aH,aM,aL,aJ){switch(aJ){case"linear":case"mcsLinear":return aM*aI/aL+aH;break;case"mcsLinearOut":aI/=aL;aI--;return aM*Math.sqrt(1-aI*aI)+aH;break;case"easeInOutSmooth":aI/=aL/2;if(aI<1){return aM/2*aI*aI+aH}aI--;return -aM/2*(aI*(aI-2)-1)+aH;break;case"easeInOutStrong":aI/=aL/2;if(aI<1){return aM/2*Math.pow(2,10*(aI-1))+aH}aI--;return aM/2*(-Math.pow(2,-10*aI)+2)+aH;break;case"easeInOut":case"mcsEaseInOut":aI/=aL/2;if(aI<1){return aM/2*aI*aI*aI+aH}aI-=2;return aM/2*(aI*aI*aI+2)+aH;break;case"easeOutSmooth":aI/=aL;aI--;return -aM*(aI*aI*aI*aI-1)+aH;break;case"easeOutStrong":return aM*(-Math.pow(2,-10*aI/aL)+1)+aH;break;case"easeOut":case"mcsEaseOut":default:var aK=(aI/=aL)*aI,aG=aK*aI;return aH+aM*(0.499999999999997*aG*aK+-2.5*aK*aK+5.5*aG+-6.5*aK+4*aI)}}},Q=function(){if(window.performance&&window.performance.now){return window.performance.now()}else{if(window.performance&&window.performance.webkitNow){return window.performance.webkitNow()}else{if(Date.now){return Date.now()}else{return new Date().getTime()}}}},aa=function(){var ak=this;if(!ak._mTween){ak._mTween={top:{},left:{}}}var aj=["top","left"];for(var ai=0;ai<aj.length;ai++){var al=aj[ai];if(ak._mTween[al].id){if(!window.requestAnimationFrame){clearTimeout(ak._mTween[al].id)}else{window.cancelAnimationFrame(ak._mTween[al].id)}ak._mTween[al].id=null;ak._mTween[al].stop=1}}},Z=function(ak,ai){try{delete ak[ai]}catch(aj){ak[ai]=null}},Y=function(ai){return !(ai.which&&ai.which!==1)},V=function(aj){var ai=aj.originalEvent.pointerType;return !(ai&&ai!=="touch"&&ai!==2)},g=function(ai){return !isNaN(parseFloat(ai))&&isFinite(ai)},w=function(ai){var aj=ai.parents(".mCSB_container");return[ai.offset().top-aj.offset().top,ai.offset().left-aj.offset().left]},o=function(){var aj=ai();if(!aj){return false}return document[aj];function ai(){var al=["webkit","moz","ms","o"];if("hidden" in document){return"hidden"}for(var ak=0;ak<al.length;ak++){if((al[ak]+"Hidden") in document){return al[ak]+"Hidden"}}return null}};a.fn[n]=function(ai){if(L[ai]){return L[ai].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof ai==="object"||!ai){return L.init.apply(this,arguments)}else{a.error("Method "+ai+" does not exist")}}};a[n]=function(ai){if(L[ai]){return L[ai].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof ai==="object"||!ai){return L.init.apply(this,arguments)}else{a.error("Method "+ai+" does not exist")}}};a[n].defaults=J;window[n]=true;a(window).bind("load",function(){a(e)[n]();a.extend(a.expr[":"],{mcsInView:a.expr[":"].mcsInView||function(aj){var ai=a(aj),al=ai.parents(".mCSB_container"),am,ak;if(!al.length){return}am=al.parent();ak=[al[0].offsetTop,al[0].offsetLeft];return ak[0]+w(ai)[0]>=0&&ak[0]+w(ai)[0]<am.height()-ai.outerHeight(false)&&ak[1]+w(ai)[1]>=0&&ak[1]+w(ai)[1]<am.width()-ai.outerWidth(false)},mcsInSight:a.expr[":"].mcsInSight||function(aj,an,ak){var ar=a(aj),am,ao=ar.parents(".mCSB_container"),al,ap,aq,ai=ak[3]==="exact"?[[1,0],[1,0]]:[[0.9,0.1],[0.6,0.4]];if(!ao.length){return}am=[ar.outerHeight(false),ar.outerWidth(false)];ap=[ao[0].offsetTop+w(ar)[0],ao[0].offsetLeft+w(ar)[1]];al=[ao.parent()[0].offsetHeight,ao.parent()[0].offsetWidth];aq=[am[0]<al[0]?ai[0]:ai[1],am[1]<al[1]?ai[0]:ai[1]];return ap[0]-(al[0]*aq[0][0])<0&&ap[0]+am[0]-(al[0]*aq[0][1])>=0&&ap[1]-(al[1]*aq[1][0])<0&&ap[1]+am[1]-(al[1]*aq[1][1])>=0},mcsOverflow:a.expr[":"].mcsOverflow||function(ai){var aj=a(ai).data(k);if(!aj){return}return aj.overflowed[0]||aj.overflowed[1]}})})}))}));(function(b){var a={i:0,nowTime:0,thisDom:{},txt:{},nums:{},timeConfig:{},againTime:{},timeDom:"",type:1,nextText:"距离下一轮 <b>蜂抢</b> 还有",nowText:"本轮 <b>蜂抢</b> 进行中",init:function(e,f){var c=this;this.thisDom=e;this.txt=f.txt;this.nums=f.nums;this.timeConfig=f.timeConfig;this.againTime=f.againTime;this.type=f.type,this.timeDom=f.timeDom,this.nextText=f.nextText,this.nowText=f.nowText;if(this.thisDom.is(":visible")){var d=new XMLHttpRequest();if(!d){d=new ActiveXObject("Microsoft.XMLHTTP")}d.open("HEAD",location.href,true);d.onreadystatechange=function(){if(d.readyState==4&&d.status==200){var h=(d.getResponseHeader("Date")),g=new Date(h);c.nowTime=g.getTime()/1000+1.5;c.countDown(0)}};d.send(null)}},countDown:function(h){var d,j,k=0,g=0,f=0,e=0,c="",i=this;if(h>=Object.keys(this.timeConfig).length){this.thisDom.hide();return false}else{if(this.nowTime>this.getSecond(this.againTime[Object.keys(this.againTime).length-1])){this.thisDom.hide();return false}else{d=this.getSecond(this.timeConfig[h]);if(h==0){j=d-this.nowTime}else{if(this.nowTime>this.getSecond(this.againTime[h-1])){j=d-this.nowTime}else{j=d-this.getSecond(this.againTime[h-1])}}}if(j>0){this.txt.html(this.nextText);this.nums.show();c=window.setInterval(function(){i.formateTime(j);j--;if(j<0){i.txt.html(i.nowText);i.nums.hide();i.btnState(h);if(i.i<Object.keys(i.againTime).length){i.timeSpace(i.i)}clearInterval(c)}},1000)}else{var m=this.getSecond(this.timeConfig[h]),l=this.getSecond(this.againTime[h]);if(this.nowTime>=m&&this.nowTime<l){this.txt.html(this.nowText);this.nums.hide();this.timeSpace(this.i,this.nowTime);this.btnState(h)}else{if(this.i<Object.keys(this.timeConfig).length){this.countDown(++(this.i))}}}}},timeSpace:function(c,e){e=e||0;var f=this.getSecond(this.timeConfig[c]),d=this.getSecond(this.againTime[c]),i="";if(e!=0){i=d-e}else{i=d-f}var h="",g=this;if(i>0){h=setInterval(function(){i--;if(i<=0){if(g.i<Object.keys(g.timeConfig).length){g.txt.html(g.nextText);g.nums.show();g.countDown(++(g.i));clearInterval(h)}}},1000)}else{if(this.i<Object.keys(this.timeConfig).length){this.countDown(++(this.i))}}},getSecond:function(c){return(new Date(c)).getTime()/1000},formateTime:function(h){var d=Math.floor(h/(60*60*24));var c=Math.floor(h/(60*60));var g=Math.floor(h/60)-(c*60);var e=Math.floor(h)-(c*60*60)-(g*60);c=c<=9?"0"+c:c.toString();g=g<=9?"0"+g:g.toString();e=e<=9?"0"+e:e.toString();var f=c+g+e;b(this.timeDom).each(function(j,i){b(this).html(f[j])})},btnState:function(c){switch(this.type){case"pc":if(c%2==0){b("[data-qiangBtn='11']").removeClass("btn-soon").addClass("btn-buy").text("立即抢购")}else{b("[data-qiangBtn='15']").removeClass("btn-soon").addClass("btn-buy").text("立即抢购")}break;case"mobile":if(c%2==0){b("[data-qiangBtn='11']").removeClass("pr02").addClass("pr01").text("立即抢购")}else{b("[data-qiangBtn='15']").removeClass("pr02").addClass("pr01").text("立即抢购")}break;default:break}}};b.fn.fengqiangCountDown=function(c){var e=this;var f={timeConfig:{},againTime:{},txt:b(".txt"),nums:b(".nums"),timeDom:"",nextText:"距离下一轮 <b>蜂抢</b> 还有",nowText:"本轮 <b>蜂抢</b> 进行中",type:"pc"};var d=b.extend({},f,c);a.init(e,d)}})(jQuery);(function(a){window.setInterval(function(){a("[data-countdown]").each(function(){var c=window.CountdownCallback;var k=a(this),h=k.data("countdown"),l=k.data("withLeadingZero")||true,b=(new Date()).valueOf(),j=h-b,g={ms:"00",ss:"00",mm:"00",hh:"00",dd:"00"},e=k.data("cb"),d=c&&typeof(c[e])=="object";if(j<0){return true}j=Math.round(j/100);g.ms=j%10;g.ss=Math.floor(j/10)%60;g.mm=Math.floor(j/600)%60;g.hh=Math.floor(j/36000)%24;g.dd=Math.floor(j/864000);for(var f in g){if(g.hasOwnProperty(f)){if(l){g[f]=parseInt(g[f],10);if(g[f]<=9){g[f]="0"+g[f]}}k.find("[data-"+f+"]").text(g[f])}}if(d&&a.isFunction(c[e].step)){c[e].step(g)}if(g.dd*1==0&&g.hh*1==0&&g.mm*1==0&&g.ss*1==0){if(d&&a.isFunction(c[e].finished)){c[e].finished()}}})},1000)})(jQuery);(function($){var supportedCSS,supportedCSSOrigin,styles=document.getElementsByTagName("head")[0].style,toCheck="transformProperty WebkitTransform OTransform msTransform MozTransform".split(" ");for(var a=0;a<toCheck.length;a++){if(styles[toCheck[a]]!==undefined){supportedCSS=toCheck[a]}}if(supportedCSS){supportedCSSOrigin=supportedCSS.replace(/[tT]ransform/,"TransformOrigin");if(supportedCSSOrigin[0]=="T"){supportedCSSOrigin[0]="t"}}eval('IE = "v"=="\v"');jQuery.fn.extend({rotate:function(parameters){if(this.length===0||typeof parameters=="undefined"){return}if(typeof parameters=="number"){parameters={angle:parameters}}var returned=[];for(var i=0,i0=this.length;i<i0;i++){var element=this.get(i);if(!element.Wilq32||!element.Wilq32.PhotoEffect){var paramClone=$.extend(true,{},parameters);var newRotObject=new Wilq32.PhotoEffect(element,paramClone)._rootObj;returned.push($(newRotObject))}else{element.Wilq32.PhotoEffect._handleRotation(parameters)}}return returned},getRotateAngle:function(){var ret=[];for(var i=0,i0=this.length;i<i0;i++){var element=this.get(i);if(element.Wilq32&&element.Wilq32.PhotoEffect){ret[i]=element.Wilq32.PhotoEffect._angle}}return ret},stopRotate:function(){for(var i=0,i0=this.length;i<i0;i++){var element=this.get(i);if(element.Wilq32&&element.Wilq32.PhotoEffect){clearTimeout(element.Wilq32.PhotoEffect._timer)}}}});Wilq32=window.Wilq32||{};Wilq32.PhotoEffect=(function(){if(supportedCSS){return function(img,parameters){img.Wilq32={PhotoEffect:this};this._img=this._rootObj=this._eventObj=img;this._handleRotation(parameters)}}else{return function(img,parameters){this._img=img;this._onLoadDelegate=[parameters];this._rootObj=document.createElement("span");this._rootObj.style.display="inline-block";this._rootObj.Wilq32={PhotoEffect:this};img.parentNode.insertBefore(this._rootObj,img);if(img.complete){this._Loader()}else{var self=this;jQuery(this._img).bind("load",function(){self._Loader()})}}}})();Wilq32.PhotoEffect.prototype={_setupParameters:function(parameters){this._parameters=this._parameters||{};if(typeof this._angle!=="number"){this._angle=0}if(typeof parameters.angle==="number"){this._angle=parameters.angle}this._parameters.animateTo=(typeof parameters.animateTo==="number")?(parameters.animateTo):(this._angle);this._parameters.step=parameters.step||this._parameters.step||null;this._parameters.easing=parameters.easing||this._parameters.easing||this._defaultEasing;this._parameters.duration=parameters.duration||this._parameters.duration||1000;this._parameters.callback=parameters.callback||this._parameters.callback||this._emptyFunction;this._parameters.center=parameters.center||this._parameters.center||["50%","50%"];if(typeof this._parameters.center[0]=="string"){this._rotationCenterX=(parseInt(this._parameters.center[0],10)/100)*this._imgWidth*this._aspectW}else{this._rotationCenterX=this._parameters.center[0]}if(typeof this._parameters.center[1]=="string"){this._rotationCenterY=(parseInt(this._parameters.center[1],10)/100)*this._imgHeight*this._aspectH}else{this._rotationCenterY=this._parameters.center[1]}if(parameters.bind&&parameters.bind!=this._parameters.bind){this._BindEvents(parameters.bind)}},_emptyFunction:function(){},_defaultEasing:function(x,t,b,c,d){return -c*((t=t/d-1)*t*t*t-1)+b},_handleRotation:function(parameters,dontcheck){if(!supportedCSS&&!this._img.complete&&!dontcheck){this._onLoadDelegate.push(parameters);return}this._setupParameters(parameters);if(this._angle==this._parameters.animateTo){this._rotate(this._angle)}else{this._animateStart()}},_BindEvents:function(events){if(events&&this._eventObj){if(this._parameters.bind){var oldEvents=this._parameters.bind;for(var a in oldEvents){if(oldEvents.hasOwnProperty(a)){jQuery(this._eventObj).unbind(a,oldEvents[a])}}}this._parameters.bind=events;for(var a in events){if(events.hasOwnProperty(a)){jQuery(this._eventObj).bind(a,events[a])}}}},_Loader:(function(){if(IE){return function(){var width=this._img.width;var height=this._img.height;this._imgWidth=width;this._imgHeight=height;this._img.parentNode.removeChild(this._img);this._vimage=this.createVMLNode("image");this._vimage.src=this._img.src;this._vimage.style.height=height+"px";this._vimage.style.width=width+"px";this._vimage.style.position="absolute";this._vimage.style.top="0px";this._vimage.style.left="0px";this._aspectW=this._aspectH=1;this._container=this.createVMLNode("group");this._container.style.width=width;this._container.style.height=height;this._container.style.position="absolute";this._container.style.top="0px";this._container.style.left="0px";this._container.setAttribute("coordsize",width-1+","+(height-1));this._container.appendChild(this._vimage);this._rootObj.appendChild(this._container);this._rootObj.style.position="relative";this._rootObj.style.width=width+"px";this._rootObj.style.height=height+"px";this._rootObj.setAttribute("id",this._img.getAttribute("id"));this._rootObj.className=this._img.className;this._eventObj=this._rootObj;var parameters;while(parameters=this._onLoadDelegate.shift()){this._handleRotation(parameters,true)}}}else{return function(){this._rootObj.setAttribute("id",this._img.getAttribute("id"));this._rootObj.className=this._img.className;this._imgWidth=this._img.naturalWidth;this._imgHeight=this._img.naturalHeight;var _widthMax=Math.sqrt((this._imgHeight)*(this._imgHeight)+(this._imgWidth)*(this._imgWidth));this._width=_widthMax*3;this._height=_widthMax*3;this._aspectW=this._img.offsetWidth/this._img.naturalWidth;this._aspectH=this._img.offsetHeight/this._img.naturalHeight;this._img.parentNode.removeChild(this._img);this._canvas=document.createElement("canvas");this._canvas.setAttribute("width",this._width);this._canvas.style.position="relative";this._canvas.style.left=-this._img.height*this._aspectW+"px";this._canvas.style.top=-this._img.width*this._aspectH+"px";this._canvas.Wilq32=this._rootObj.Wilq32;this._rootObj.appendChild(this._canvas);this._rootObj.style.width=this._img.width*this._aspectW+"px";this._rootObj.style.height=this._img.height*this._aspectH+"px";this._eventObj=this._canvas;this._cnv=this._canvas.getContext("2d");var parameters;while(parameters=this._onLoadDelegate.shift()){this._handleRotation(parameters,true)}}}})(),_animateStart:function(){if(this._timer){clearTimeout(this._timer)}this._animateStartTime=+new Date;this._animateStartAngle=this._angle;this._animate()},_animate:function(){var actualTime=+new Date;var checkEnd=actualTime-this._animateStartTime>this._parameters.duration;if(checkEnd&&!this._parameters.animatedGif){clearTimeout(this._timer)}else{if(this._canvas||this._vimage||this._img){var angle=this._parameters.easing(0,actualTime-this._animateStartTime,this._animateStartAngle,this._parameters.animateTo-this._animateStartAngle,this._parameters.duration);this._rotate((~~(angle*10))/10)}if(this._parameters.step){this._parameters.step(this._angle)}var self=this;this._timer=setTimeout(function(){self._animate.call(self)},10)}if(this._parameters.callback&&checkEnd){this._angle=this._parameters.animateTo;this._rotate(this._angle);this._parameters.callback.call(this._rootObj)}},_rotate:(function(){var rad=Math.PI/180;if(IE){return function(angle){this._angle=angle;this._container.style.rotation=(angle%360)+"deg";this._vimage.style.top=-(this._rotationCenterY-this._imgHeight/2)+"px";this._vimage.style.left=-(this._rotationCenterX-this._imgWidth/2)+"px";this._container.style.top=this._rotationCenterY-this._imgHeight/2+"px";this._container.style.left=this._rotationCenterX-this._imgWidth/2+"px"}}else{if(supportedCSS){return function(angle){this._angle=angle;this._img.style[supportedCSS]="rotate("+(angle%360)+"deg)";this._img.style[supportedCSSOrigin]=this._parameters.center.join(" ")}}else{return function(angle){this._angle=angle;angle=(angle%360)*rad;this._canvas.width=this._width;this._canvas.height=this._height;this._cnv.translate(this._imgWidth*this._aspectW,this._imgHeight*this._aspectH);this._cnv.translate(this._rotationCenterX,this._rotationCenterY);this._cnv.rotate(angle);this._cnv.translate(-this._rotationCenterX,-this._rotationCenterY);this._cnv.scale(this._aspectW,this._aspectH);this._cnv.drawImage(this._img,0,0)}}}})()};if(IE){Wilq32.PhotoEffect.prototype.createVMLNode=(function(){document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!document.namespaces.rvml&&document.namespaces.add("rvml","urn:schemas-microsoft-com:vml");return function(tagName){return document.createElement("<rvml:"+tagName+' class="rvml">')}}catch(e){return function(tagName){return document.createElement("<"+tagName+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}})()}})(jQuery);